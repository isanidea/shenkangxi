{extend name="public:base" /}

{block name="content"}

<div class="dzgg">

    <form id="form" method="post" action='{:url("User/add_address")}'>
        <ul>
            <input type="hidden" name="jumpUrl" value="{$jumpUrl}">
            <input type="hidden" name="id" value="{$Arr['id']? $Arr['id'] : ''}"/>
            <li><input type="text" id="name" name="name" placeholder="收货人"  value="{$Arr['name']? $Arr['name'] : ''}" /></li>
            <li><input type="text" id="mobile" name="phone" placeholder="联系电话"  value="{$Arr['mobile']? $Arr['mobile'] : ''}"/></li>
            <li><input type="text" id="postcode" name="postcode" placeholder="邮编"  value="{$Arr['postcode']? $Arr['postcode'] : ''}"/></li>
            <li>
                <div class="outer">
                    <select name="province"  id="province">
                        <option value="{$Arr['province']? $Arr['province'] : '请选择'}">{$Arr['province']? $Arr['province'] : '请选择'}</option>
                    </select>
                    <select name="city" id="city">
                        <option value="{$Arr['city']? $Arr['city'] : '请选择'}">{$Arr['city']? $Arr['city'] : '请选择'}</option>
                    </select>
                    <select name="town" id="town">
                        <option value="{$Arr['town']? $Arr['town'] : '请选择'}">{$Arr['town']? $Arr['town'] : '请选择'}</option>
                    </select>
                </div>
            </li>
            <li>
                <textarea id="details" name="details" type="text" placeholder="详细地址">{$Arr['details']? $Arr['details'] : ''}</textarea>
            </li>
        </ul>
    </form>
    <a href="javascript:;" onclick="submitFormFuc()">保存</a>
</div>
{/block}

{block name="js"}
<script src="__STATIC__/qiantai/js/area.js"></script>
<script src="__STATIC__/qiantai/js/select.js"></script>
<script src="__STATIC__/layer/layer.js" charset="utf-8"></script>


<script type="text/javascript">

    function submitFormFuc(){

        var name = $("#name").val();
        if( name == "" ){

            layer.msg("请输入收货人姓名",{icon: 2});
            return false;
        }
        var mobile = $("#mobile").val();
        var reg = /^0?1[3|4|5|7|8][0-9]\d{8}$/;
        if( !reg.test(mobile) ){

            layer.msg("请输入正确的手机",{icon: 2});
            return false;
        }
        var postcode = $("#postcode").val();
        if( postcode == "" || postcode.length != 6 ){

            layer.msg("请输入正确的邮编",{icon: 2});
            return false;
        }
        var province = $("#province").val();
        if( province == "请选择" ){

            layer.msg("请选择地址",{icon: 2});
            return false;
        }
        var city = $("#city").val();
        if( city == "请选择" ){

            layer.msg("请选择地址",{icon: 2});
            return false;
        }
        var town = $("#town").val();
        if( town == "请选择" ){

            layer.msg("请选择地址",{icon: 2});
            return false;
        }

        var details = $("#details").val();
        if( details == "" || details == null ){
            layer.msg("请输入详细地址",{icon: 2});
            return false;
        }

        $("#form").submit();
    }


</script>

{/block}